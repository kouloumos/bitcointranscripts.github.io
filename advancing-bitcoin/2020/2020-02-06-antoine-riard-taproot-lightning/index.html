<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical href=https://www.kouloumos.com/bitcointranscripts.github.io/advancing-bitcoin/2020/2020-02-06-antoine-riard-taproot-lightning/><title>Taproot Lightning | ₿itcoin Transcripts</title><link href=https://www.kouloumos.com/bitcointranscripts.github.io/css/fontawesome.min.css rel=stylesheet><link rel=stylesheet href=https://www.kouloumos.com/bitcointranscripts.github.io/css/ace.min.css><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.kouloumos.com/bitcointranscripts.github.io/images/btctranscripts.png"><meta name=twitter:title content="Antoine Riard - Taproot Lightning"><meta name=twitter:description content="Name: Antoine Riard
Topic: A Schnorr-Taproot’ed Lightning
Location: Advancing Bitcoin
Date: February 6th 2020
Video (paid access): https://www.advancingbitcoin.com/video/a-schnorr-taprooted-lightning,11/
Slides: https://www.dropbox.com/s/9vs54e9bqf317u0/Schnorr-Taproot%27ed-LN.pdf
Intro Today Schnorr and Taproot for Lightning, it is a really exciting topic.
Lightning architecture The Lightning architecture for those who are not familiar with it. You have the blockchain as the underlying layer. On top of it you are going to build a channel, you have a HTLC and people are going to spend onions to you."></head><body><nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow sticky-top" id=navbarMain><div class=container><div><a class=navbar-brand href=/bitcointranscripts.github.io>₿itcoin Transcripts</a></div><div class="collapse navbar-collapse" id=navbarMainCollapse><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/bitcointranscripts.github.io/es>es</a></li><li class=nav-item><a class=nav-link href=/bitcointranscripts.github.io/pt>pt</a></li><li class=nav-item><a class=nav-link href=https://github.com/bitcointranscripts/bitcointranscripts target=_blank><i class='fab fa-github'></i></a></li></ul></div></div></nav><div class=container-fluid><div class=row><div class="docs-sidenav order-0 col-12 col-md-3 col-lg-2 col-xl-2 position-sticky border-right"><nav class="navbar navbar-expand-md navbar-light pl-0"><button class="navbar-toggler navbar-toggler-right collapsed" type=button data-toggle=collapse data-target=#sidenav-left-collapse aria-controls=sidenav-left-collapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse align-items-start flex-column" id=sidenav-left-collapse><form class="form-inline my-2 my-lg-0 searchbox"><input class="form-control mr-sm-2 w-100" data-search-input id=search-by type=text placeholder='Search (press "/")'></form><ul class="navbar-nav flex-column pt-3"><li data-nav-id=/bitcointranscripts.github.io/adopting-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/adopting-bitcoin/><h6>Adopting Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/adopting-bitcoin/2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/adopting-bitcoin/2021/><h6>Adopting Bitcoin 2021</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/advancing-bitcoin/ class="nav-item my-1 parent haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/advancing-bitcoin/><h6>Advancing Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/advancing-bitcoin/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/advancing-bitcoin/2019/><h6>Advancing Bitcoin 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/advancing-bitcoin/2020/ class="nav-item my-1 parent haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/advancing-bitcoin/2020/><h6>Advancing Bitcoin 2020</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/advancing-bitcoin/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/advancing-bitcoin/2022/><h6>Advancing Bitcoin 2022</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/andreas-antonopoulos/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/andreas-antonopoulos/><h6>Andreas Antonopoulos</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/austin-bitcoin-developers/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/austin-bitcoin-developers/><h6>Austin Bitcoin Developers</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/baltic-honeybadger/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/baltic-honeybadger/><h6>Baltic Honeybadger</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/baltic-honeybadger/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/baltic-honeybadger/2018/><h6>Baltic Honeybadger 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/baltic-honeybadger/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/baltic-honeybadger/2019/><h6>Baltic Honeybadger 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/bit-block-boom/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bit-block-boom/><h6>Bit Block Boom</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/bit-block-boom/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bit-block-boom/2019/><h6>Bit Block Boom 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-core-dev-tech/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-core-dev-tech/><h6>Bitcoin Core Dev Tech</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/bitcoin-core-dev-tech/bitcoin-devcore-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-core-dev-tech/bitcoin-devcore-2015/><h6>Bitcoin Devcore Meetup (2015)</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-design/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-design/><h6>Bitcoin Design</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-magazine/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-magazine/><h6>Bitcoin Magazine</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoinplusplus/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoinplusplus/><h6>Bitcoin++</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/bitcoinplusplus/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoinplusplus/2022/><h6>Bitcoin++ 2022</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoinology/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoinology/><h6>Bitcoinology</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoinops/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoinops/><h6>Bitcoinops</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/bitcoinops/schnorr-taproot-workshop-2019/ class="nav-item my-1"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoinops/schnorr-taproot-workshop-2019/><h6>Schnorr Taproot Workshop 2019</h6></a></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/blockchain-protocol-analysis-security-engineering/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/blockchain-protocol-analysis-security-engineering/><h6>Blockchain Protocol Analysis Security Eng</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/blockchain-protocol-analysis-security-engineering/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/blockchain-protocol-analysis-security-engineering/2017/><h6>Blockchain Protocol Analysis Security Engineering 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/blockchain-protocol-analysis-security-engineering/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/blockchain-protocol-analysis-security-engineering/2018/><h6>Blockchain Protocol Analysis Security Engineering 2018</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/blockstream-webinars/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/blockstream-webinars/><h6>Blockstream Webinars</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/boltathon/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/boltathon/><h6>Boltathon</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/breaking-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/breaking-bitcoin/><h6>Breaking Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/breaking-bitcoin/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/breaking-bitcoin/2017/><h6>Breaking Bitcoin 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/breaking-bitcoin/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/breaking-bitcoin/2019/><h6>Breaking Bitcoin 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/building-on-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/building-on-bitcoin/><h6>Building On Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/building-on-bitcoin/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/building-on-bitcoin/2018/><h6>Building On Bitcoin 2018</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/c-lightning/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/c-lightning/><h6>c-lightning</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/chaincode-labs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/chaincode-labs/><h6>Chaincode Labs</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/chaincode-labs/chaincode-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/chaincode-labs/chaincode-podcast/><h6>Chaincode Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/chaincode-labs/chaincode-residency/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/chaincode-labs/chaincode-residency/><h6>Chaincode Residency</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/chicago-bitdevs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/chicago-bitdevs/><h6>Chicago Bitdevs</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/coindesk-consensus-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/coindesk-consensus-2016/><h6>Coindesk Consensus</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/coordination-of-decentralized-finance-workshop/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/coordination-of-decentralized-finance-workshop/><h6>Coordination of Decentralized Finance</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/coordination-of-decentralized-finance-workshop/2020-stanford/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/coordination-of-decentralized-finance-workshop/2020-stanford/><h6>2020 Stanford</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/cppcon/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/cppcon/><h6>CPPcon</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/cppcon/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/cppcon/2017/><h6>CPPcon 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/cppcon/2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/cppcon/2020/><h6>CPPcon 2020</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/cryptoeconomic-systems/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/cryptoeconomic-systems/><h6>Cryptoeconomic Systems</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/cryptoeconomic-systems/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/cryptoeconomic-systems/2019/><h6>Cryptoeconomic Systems 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/dallas-bitcoin-symposium/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/dallas-bitcoin-symposium/><h6>Dallas Bitcoin Symposium</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/decentralized-financial-architecture-workshop/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/decentralized-financial-architecture-workshop/><h6>Decentralized Financial Architecture Workshop</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-developers-miners-meeting-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-developers-miners-meeting-2016/><h6>Developers-Miners Meeting</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/greg-maxwell/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/greg-maxwell/><h6>Greg Maxwell</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/grincon/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/grincon/><h6>Grincon</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/grincon/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/grincon/2019/><h6>Grincon 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/honey-badger-diaries/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/honey-badger-diaries/><h6>Honey Badger Diaries</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/iacr/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/iacr/><h6>IACR Crypto</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/la-bitdevs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/la-bitdevs/><h6>LA Bitdevs</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/layer2-summit/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/layer2-summit/><h6>Layer2 Summit</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/layer2-summit/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/layer2-summit/2018/><h6>Layer2 Summit 2018</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/lets-talk-bitcoin-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/lets-talk-bitcoin-podcast/><h6>Lets Talk Bitcoin Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/lightning-conference/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/lightning-conference/><h6>Lightning Conference</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/lightning-conference/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/lightning-conference/2019/><h6>Lightning Conference 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/lightning-hack-day/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/lightning-hack-day/><h6>Lightning Hack Day</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/lightning-specification/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/lightning-specification/><h6>Lightning Specification</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/london-bitcoin-devs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/london-bitcoin-devs/><h6>London Bitcoin Devs</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/magicalcryptoconference/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/magicalcryptoconference/><h6>Magicalcryptoconference</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/magicalcryptoconference/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/magicalcryptoconference/2019/><h6>Magicalcryptoconference 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/misc/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/misc/><h6>Misc</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/><h6>MIT Bitcoin Expo</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2015/><h6>Mit Bitcoin Expo 2015</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2016/><h6>Mit Bitcoin Expo 2016</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2017/><h6>Mit Bitcoin Expo 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2018/><h6>Mit Bitcoin Expo 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2019/><h6>Mit Bitcoin Expo 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2020/><h6>Mit Bitcoin Expo 2020</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2021/><h6>Mit Bitcoin Expo 2021</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/munich-meetup/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/munich-meetup/><h6>Munich Meetup</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/noded-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/noded-podcast/><h6>Noded Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/realworldcrypto/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/realworldcrypto/><h6>Realworldcrypto</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/realworldcrypto/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/realworldcrypto/2018/><h6>Realworldcrypto 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/realworldcrypto/2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/realworldcrypto/2021/><h6>Realworldcrypto 2021</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/rebooting-web-of-trust/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/rebooting-web-of-trust/><h6>Rebooting Web Of Trust</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/rebooting-web-of-trust/2019-prague/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/rebooting-web-of-trust/2019-prague/><h6>2019 Prague</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/ruben-somsen/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/ruben-somsen/><h6>Ruben Somsen</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/satoshi-roundtable/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/satoshi-roundtable/><h6>Satoshi Roundtable</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/satoshi-roundtable/sr-004/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/satoshi-roundtable/sr-004/><h6>Sr 004</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/><h6>Scaling Bitcoin Conference</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/hong-kong-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/hong-kong-2015/><h6>Hong Kong (2015)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/milan-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/milan-2016/><h6>Milan (2016)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/montreal-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/montreal-2015/><h6>Montreal (2015)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/stanford-2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/stanford-2017/><h6>Stanford (2017)</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/stanford-2017/edgeplusplus/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/stanford-2017/edgeplusplus/><h6>Edgeplusplus</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/tel-aviv-2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/tel-aviv-2019/><h6>Tel Aviv (2019)</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/tel-aviv-2019/edgedevplusplus/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/tel-aviv-2019/edgedevplusplus/><h6>Edgedevplusplus</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/tokyo-2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/tokyo-2018/><h6>Tokyo (2018)</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/tokyo-2018/edgedevplusplus/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/tokyo-2018/edgedevplusplus/><h6>Edgedevplusplus</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/sf-bitcoin-meetup/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/sf-bitcoin-meetup/><h6>SF Bitcoin Meetup</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/simons-institute/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/simons-institute/><h6>Simons Institute</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/stanford-blockchain-conference/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/stanford-blockchain-conference/><h6>Stanford Blockchain</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/stanford-blockchain-conference/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/stanford-blockchain-conference/2019/><h6>Stanford Blockchain Conference 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/stanford-blockchain-conference/2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/stanford-blockchain-conference/2020/><h6>Stanford Blockchain Conference 2020</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/stephan-livera-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/stephan-livera-podcast/><h6>Stephan Livera Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/sydney-bitcoin-meetup/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/sydney-bitcoin-meetup/><h6>Sydney Bitcoin Meetup</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/tabconf/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/tabconf/><h6>TABConf</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/tabconf/2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/tabconf/2021/><h6>TABConf 2021</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/tabconf/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/tabconf/2022/><h6>TABConf 2022</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/texas-bitcoin-conference-2014/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/texas-bitcoin-conference-2014/><h6>Texas Bitcoin Conference</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/tftc-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/tftc-podcast/><h6>TFTC Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/verifiable-delay-functions/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/verifiable-delay-functions/><h6>Verifiable Delay Functions</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/verifiable-delay-functions/vdf-day-2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/verifiable-delay-functions/vdf-day-2019/><h6>Vdf Day 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/vr-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/vr-bitcoin/><h6>VR Bitcoin</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/w3-blockchain-workshop-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/w3-blockchain-workshop-2016/><h6>W3 Blockchain Workshop</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/wasabi-research-club/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/wasabi-research-club/><h6>Wasabi Research Club</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/what-bitcoin-did-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/what-bitcoin-did-podcast/><h6>What Bitcoin Did Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></div></nav></div><div class="docs-toc large order-lg-2 order-md-0 order-xs-1 col-12 col-lg-2 col-xl-2 position-sticky"><div class=docs-toc><nav id=TableOfContents><ul><li><a href=#intro>Intro</a></li><li><a href=#lightning-architecture>Lightning architecture</a></li><li><a href=#what-should-we-design-lightning-for>What should we design Lightning for?</a></li><li><a href=#whats-the-privacy-on-the-base-layer>What’s the privacy on the base layer?</a></li><li><a href=#whats-the-privacy-on-lightning>What’s the privacy on Lightning?</a></li><li><a href=#why-should-we-focus-on-privacy>Why should we focus on privacy?</a></li><li><a href=#ec-schnorr-efficient-signature-scheme>EC-Schnorr: efficient signature scheme</a></li><li><a href=#taproot-privacy-preserving-script-tree>Taproot: privacy preserving Script Tree</a></li><li><a href=#new-consensus-properties>New consensus properties</a></li><li><a href=#more-schnorr-taproot-resources>More Schnorr-Taproot resources</a></li><li><a href=#channel-plaintext-closing>Channel: “Plaintext” closing</a></li><li><a href=#schnorr-taproot--channel-discreet-closing>Schnorr Taproot -Channel: “Discreet” closing</a></li><li><a href=#channel-worst-case-closing>Channel: Worst-case closing</a></li><li><a href=#schnorr-taproot--channel-pooled-commitment>Schnorr Taproot -Channel: Pooled Commitment</a></li><li><a href=#htlc-payment-hash-correlation>HTLC: Payment hash correlation</a></li><li><a href=#schnorr-taproot-point-time-locked-contract>Schnorr-Taproot: Point Time Locked Contract</a></li><li><a href=#ptlc-protocol-setup-phase>PTLC protocol: setup phase</a></li><li><a href=#ptlc-protocol-update-phase>PTLC protocol: update phase</a></li><li><a href=#ptlc-protocol-settlement-phase>PTLC protocol: settlement phase</a></li><li><a href=#invoices-proof-of-payment>Invoices: proof-of-payment</a></li><li><a href=#schnorr-taproot-invoices-proof-of-payer>Schnorr Taproot Invoices: proof-of-payer</a></li><li><a href=#onion-packet-simple-payment-or-mpp>Onion-packet: simple payment or MPP</a></li><li><a href=#schnorr-taproot-onion-packet-discreet-log-amp>Schnorr Taproot onion packet: Discreet Log AMP</a></li><li><a href=#htlc-stuck-payments>HTLC: stuck payments</a></li><li><a href=#schnorr-taproot-htlc-cancellable-payments>Schnorr Taproot HTLC: cancellable payments</a></li><li><a href=#htlc-simple-hash-time-locked-contract>HTLC: simple hash-time-locked-contract</a></li><li><a href=#schnorr-taproot-end-to-end-payment-point-contracts>Schnorr Taproot: end-to-end payment point contracts</a></li><li><a href=#protocol-side-no-silver-bullet-a-lot-of-tricks>Protocol-side, no silver bullet, a lot of tricks</a></li><li><a href=#application-side-building-private-first-apps>Application-side, building private first apps</a></li><li><a href=#thanks-to-chaincode>Thanks to Chaincode</a></li><li><a href=#qa>Q&A</a></li></ul></nav></div></div><div class="main col-12 order-1 col-md-9 col-lg-10 col-xl-8 py-3"><a href=/>Home</a>
&lt; <a href=/bitcointranscripts.github.io/tabconf/>TABConf</a>
&lt; <a href=/bitcointranscripts.github.io/bitcoin-core-dev-tech/>Bitcoin Core Dev Tech</a>
&lt; <a href=/bitcointranscripts.github.io/london-bitcoin-devs/>London Bitcoin Devs</a>
&lt; <a href=/bitcointranscripts.github.io/misc/>Misc</a>
&lt; <a href=/bitcointranscripts.github.io/bitcoinplusplus/>Bitcoin++</a>
&lt; <a href=/bitcointranscripts.github.io/greg-maxwell/>Greg Maxwell</a>
&lt; <a href=/bitcointranscripts.github.io/chaincode-labs/>Chaincode Labs</a>
&lt; <a href=/bitcointranscripts.github.io/lightning-specification/>Lightning Specification</a>
&lt; <a href=/bitcointranscripts.github.io/c-lightning/>c-lightning</a>
&lt; <a href=/bitcointranscripts.github.io/advancing-bitcoin/>Advancing Bitcoin</a>
&lt; <a href=/bitcointranscripts.github.io/advancing-bitcoin/2022/>Advancing Bitcoin 2022</a>
&lt; <a href=/bitcointranscripts.github.io/advancing-bitcoin/2020/>Advancing Bitcoin 2020</a>
&lt; <a href=/bitcointranscripts.github.io/advancing-bitcoin/2019/>Advancing Bitcoin 2019</a>
&lt; <a href=/bitcointranscripts.github.io/bitcoinology/>Bitcoinology</a>
&lt; <a href=/bitcointranscripts.github.io/adopting-bitcoin/>Adopting Bitcoin</a>
&lt; <a href=/bitcointranscripts.github.io/iacr/>IACR Crypto</a>
&lt; <a href=/bitcointranscripts.github.io/wasabi-research-club/>Wasabi Research Club</a>
&lt; <a href=/bitcointranscripts.github.io/bitcoin-magazine/>Bitcoin Magazine</a>
&lt; <a href=/bitcointranscripts.github.io/mit-bitcoin-expo/>MIT Bitcoin Expo</a>
&lt; <a href=/bitcointranscripts.github.io/lightning-hack-day/>Lightning Hack Day</a>
&lt; <a href=/bitcointranscripts.github.io/stephan-livera-podcast/>Stephan Livera Podcast</a>
&lt; <a href=/bitcointranscripts.github.io/munich-meetup/>Munich Meetup</a>
&lt; <a href=/bitcointranscripts.github.io/tftc-podcast/>TFTC Podcast</a>
&lt; <a href=/bitcointranscripts.github.io/realworldcrypto/>Realworldcrypto</a>
&lt; <a href=/bitcointranscripts.github.io/sf-bitcoin-meetup/>SF Bitcoin Meetup</a>
&lt; <a href=/bitcointranscripts.github.io/cppcon/>CPPcon</a>
&lt; <a href=/bitcointranscripts.github.io/scalingbitcoin/>Scaling Bitcoin Conference</a>
&lt; <a href=/bitcointranscripts.github.io/bitcoin-design/>Bitcoin Design</a>
&lt; <a href=/bitcointranscripts.github.io/chicago-bitdevs/>Chicago Bitdevs</a>
&lt; <a href=/bitcointranscripts.github.io/vr-bitcoin/>VR Bitcoin</a>
&lt; <a href=/bitcointranscripts.github.io/la-bitdevs/>LA Bitdevs</a>
&lt; <a href=/bitcointranscripts.github.io/ruben-somsen/>Ruben Somsen</a>
&lt; <a href=/bitcointranscripts.github.io/honey-badger-diaries/>Honey Badger Diaries</a>
&lt; <a href=/bitcointranscripts.github.io/andreas-antonopoulos/>Andreas Antonopoulos</a>
&lt; <a href=/bitcointranscripts.github.io/blockstream-webinars/>Blockstream Webinars</a>
&lt; <a href=/bitcointranscripts.github.io/austin-bitcoin-developers/>Austin Bitcoin Developers</a>
&lt; <a href=/bitcointranscripts.github.io/coordination-of-decentralized-finance-workshop/>Coordination of Decentralized Finance</a>
&lt; <a href=/bitcointranscripts.github.io/stanford-blockchain-conference/>Stanford Blockchain</a>
&lt; <a href=/bitcointranscripts.github.io/lightning-conference/>Lightning Conference</a>
&lt; <a href=/bitcointranscripts.github.io/cryptoeconomic-systems/>Cryptoeconomic Systems</a>
&lt; <a href=/bitcointranscripts.github.io/baltic-honeybadger/>Baltic Honeybadger</a>
&lt; <a href=/bitcointranscripts.github.io/decentralized-financial-architecture-workshop/>Decentralized Financial Architecture Workshop</a>
&lt; <a href=/bitcointranscripts.github.io/dallas-bitcoin-symposium/>Dallas Bitcoin Symposium</a>
&lt; <a href=/bitcointranscripts.github.io/breaking-bitcoin/>Breaking Bitcoin</a>
&lt; <a href=/bitcointranscripts.github.io/lets-talk-bitcoin-podcast/>Lets Talk Bitcoin Podcast</a>
&lt; <a href=/bitcointranscripts.github.io/what-bitcoin-did-podcast/>What Bitcoin Did Podcast</a>
&lt; <a href=/bitcointranscripts.github.io/magicalcryptoconference/>Magicalcryptoconference</a>
&lt; <a href=/bitcointranscripts.github.io/noded-podcast/>Noded Podcast</a>
&lt; <a href=/bitcointranscripts.github.io/boltathon/>Boltathon</a>
&lt; <a href=/bitcointranscripts.github.io/verifiable-delay-functions/>Verifiable Delay Functions</a>
&lt; <a href=/bitcointranscripts.github.io/building-on-bitcoin/>Building On Bitcoin</a>
&lt; <a href=/bitcointranscripts.github.io/layer2-summit/>Layer2 Summit</a>
&lt; <a href=/bitcointranscripts.github.io/satoshi-roundtable/>Satoshi Roundtable</a>
&lt; <a href=/bitcointranscripts.github.io/blockchain-protocol-analysis-security-engineering/>Blockchain Protocol Analysis Security Eng</a>
&lt; <a href=/bitcointranscripts.github.io/bitcoin-developers-miners-meeting-2016/>Developers-Miners Meeting</a>
&lt; <a href=/bitcointranscripts.github.io/w3-blockchain-workshop-2016/>W3 Blockchain Workshop</a>
&lt; <a href=/bitcointranscripts.github.io/simons-institute/>Simons Institute</a>
&lt; <a href=/bitcointranscripts.github.io/bit-block-boom/>Bit Block Boom</a>
&lt; <a href=/bitcointranscripts.github.io/bitcoinops/>Bitcoinops</a>
&lt; <a href=/bitcointranscripts.github.io/coindesk-consensus-2016/>Coindesk Consensus</a>
&lt; <a href=/bitcointranscripts.github.io/grincon/>Grincon</a>
&lt; <a href=/bitcointranscripts.github.io/rebooting-web-of-trust/>Rebooting Web Of Trust</a>
&lt; <a href=/bitcointranscripts.github.io/sydney-bitcoin-meetup/>Sydney Bitcoin Meetup</a>
&lt; <a href=/bitcointranscripts.github.io/texas-bitcoin-conference-2014/>Texas Bitcoin Conference</a>
&lt; Taproot Lightning<h1>Taproot Lightning</h1><p>Speakers:
<a href=/speakers/antoine-riard>Antoine Riard</a></p><p><i>Date: February 6, 2020</i></p><p><i>Transcript By: Michael Folkson</i></p><p>Tags:
<a href=/tags/taproot>Taproot</a>, <a href=/tags/lightning>Lightning</a>, <a href=/tags/schnorr>Schnorr</a></p><p>Category:
<a href=/categories/conference>Conference</a></p><p>Name: Antoine Riard</p><p>Topic: A Schnorr-Taproot’ed Lightning</p><p>Location: Advancing Bitcoin</p><p>Date: February 6th 2020</p><p>Video (paid access): <a href=https://www.advancingbitcoin.com/video/a-schnorr-taprooted-lightning,11/>https://www.advancingbitcoin.com/video/a-schnorr-taprooted-lightning,11/</a></p><p>Slides: <a href=https://www.dropbox.com/s/9vs54e9bqf317u0/Schnorr-Taproot%27ed-LN.pdf>https://www.dropbox.com/s/9vs54e9bqf317u0/Schnorr-Taproot%27ed-LN.pdf</a></p><h1 id=intro>Intro</h1><p>Today Schnorr and Taproot for Lightning, it is a really exciting topic.</p><h1 id=lightning-architecture>Lightning architecture</h1><p>The Lightning architecture for those who are not familiar with it. You have the blockchain as the underlying layer. On top of it you are going to build a channel, you have a HTLC and people are going to spend onions to you. If you want to be paid you are going to send an invoice to the sender.</p><h1 id=what-should-we-design-lightning-for>What should we design Lightning for?</h1><p>What should we design Lightning for? When we are doing Lightning design spec, we are pouring a lot of brainpower into it and everyone has a different view of what Lightning should be. Should Lightning be a fast, payment transaction system? Should Lightning be optimized for microtransactions? Is Lightning really cool because you get instant finality of your transactions? Is privacy the reason we are doing Lightning? Lightning may have better privacy properties. When we are talking about privacy for Lightning it would be better to have the privacy of the base layer in mind. On the base layer you are going to broadcast transactions. There is an amount, it is not encrypted. There is an address, it is not encrypted. You are going to link inputs and outputs in the UTXO graph.</p><h1 id=whats-the-privacy-on-the-base-layer>What’s the privacy on the base layer?</h1><p>Privacy for the base layer is not that great that today. Lightning may be a way to solve privacy.</p><h1 id=whats-the-privacy-on-lightning>What’s the privacy on Lightning?</h1><p>But on Lightning there is a payment path. Lightning nodes have pubkeys tied to them and that is an identity vector. With HTLCs you may reuse a hash, there are a lot of different privacy vectors. Privacy is I think really important if you want censorship resistant money.</p><h1 id=why-should-we-focus-on-privacy>Why should we focus on privacy?</h1><p>“Cryptography rearranges power, it configures who can do what, from what” <a href=https://web.cs.ucdavis.edu/~rogaway/papers/moral-fn.pdf>The Moral Character of Cryptographic Work</a> (Rogaway)</p><p>If you don’t have privacy I can bribe or blackmail you because I know how you are using this tech. That is a huge vector of attack. There is this awesome paper by Philip Rogaway. I encourage everyone to read it.</p><h1 id=ec-schnorr-efficient-signature-scheme>EC-Schnorr: efficient signature scheme</h1><p><code>Keypair = (x,P) with P= xG and ephemeral keypair (k,R) with R = kG</code></p><p><code>Message hash = e = hash(R | m) and Signature = (R,s) with s = k + ex</code></p><p><code>Verification = sG = R + eP</code></p><p>You can see Schnorr and Taproot as a privacy boost. The reason to modify the consensus base layer which is a lot of work, there are a lot of people involved, there has to be a good motivation for doing this. Schnorr is a replacement for ECDSA. Originally Satoshi didn’t get Schnorr into Bitcoin because there were some patent issues. Schnorr is really awesome because there is linearity in the verification equation of Schnorr. Linearity means it is easy to sum up components. It is easy to sum up signatures, it is easy to sum up pubkeys and it is easy to sum up nonces between different parties.</p><h1 id=taproot-privacy-preserving-script-tree>Taproot: privacy preserving Script Tree</h1><p><code>Taproot pubkey: Q = P + tG with Q and P curve points</code></p><p><code>t is the root of a Merkle tree where each leaf is a hash of a script</code></p><p><code>Spending witness provides Merkle proof and script</code></p><p>The other big new consensus upgrade proposal, nothing has yet been adopted by the network, Taproot is the idea of building a Merkle tree of every leaf of the Merkle tree is going to be a script. You are going to commit the root of the Merkle tree inside the pubkey. That is cool. Now when you are going to spend a Taproot output you have two options. The first option is to use a keypath spend. The other option is to reveal one of the scripts plus a Merkle proof. This Merkle proof lets the network verify that this script has been committed with the initial commitment of the scriptPubKey, the pubkey of the transaction spend.</p><h1 id=new-consensus-properties>New consensus properties</h1><p>What are the new consensus properties of this upgrade? Linearity is the one we are going to use for this talk. With Taproot we have cheap complex scripts. Another advantage is under the Taproot assumption, if everyone agrees, you don’t have a disagreement, they can spend a Taproot output in a cooperative way so the script isn’t seen by any external observer.</p><h1 id=more-schnorr-taproot-resources>More Schnorr-Taproot resources</h1><p>There are BIP numbers for <a href=https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki>Schnorr</a>, <a href=https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki>Taproot</a> and <a href=https://github.com/bitcoin/bips/blob/master/bip-0342.mediawiki>Tapscript</a>. I encourage you to read the BIPs. There are also more resources on AJ Town’s GitHub <a href=https://github.com/ajtowns/taproot-review>repo</a>.</p><h1 id=channel-plaintext-closing>Channel: “Plaintext” closing</h1><p><code>P2WSH output: 0 &lt;32-byte-hash></code></p><p><code>Witness script: 2 &lt;pubkey1> &lt;pubkey2> 2 OP_CHECKMULTISIG</code></p><p>Right now you are going to broadcast a funding transaction onchain. This funding transaction is going to be a pay-to-witness-script-hash (P2WSH). When you close the channel every peer of the network is going to see that was a 2-of-2. By revealing the script you are going to leak that you were using Lightning. How can we solve this?</p><h1 id=schnorr-taproot--channel-discreet-closing>Schnorr Taproot -Channel: “Discreet” closing</h1><p><code>Taproot output: 1 &lt;32-byte-pubkey></code></p><p><code>Witness script: &lt;MuSig-sig></code></p><p>We can embed the script in a Taproot output. This way if both parties agree to do a mutual closing you are not going to be able to disassociate this Lightning funding Taproot output from another Taproot output.</p><h1 id=channel-worst-case-closing>Channel: Worst-case closing</h1><p>Going further, even if we disagree ideally we would like the channel to not be seen by any party. The blockchain cares about faithful execution of the contract but ideally you shouldn’t learn about the amounts because amounts are part of the contract.</p><h1 id=schnorr-taproot--channel-pooled-commitment>Schnorr Taproot -Channel: Pooled Commitment</h1><p>I think you can go further with this idea. You can encode the commitment transaction in its own Taptree and every Tapscript would be a HTLC. This Tapscript would spend to a 2nd stage transaction. This 2nd stage transaction would have two outputs. One output paying to the HTLC and the other one paying back to the Taptree minus the Tapscript spend. I think maybe SIGHASH_NOINPUT would be a better fit for this construction but there is a way to make the channel discreet. The blockchain shouldn’t learn about you doing some kind of offchain construction.</p><h1 id=htlc-payment-hash-correlation>HTLC: Payment hash correlation</h1><p>Every HTLC part of the payment path reuse the same Script hashlock ie</p><p><code>OP_HASH160 &lt;RIPEMD160(payment_hash)> OP_EQUALVERIFY</code></p><p>Going further right now we are using a payment hash. Any HTLC part of the payment path is reusing the same hash. If you are a Chainalysis company and you are running spy nodes on the network or you are running big processing nodes and these nodes are part of the same payment path they are going to be able to guess “graph nearness” of the sender and receiver. That is really bad because right now payment paths are quite short given the current topology. Ideally we would like to use a different hashlock for every hop.</p><h1 id=schnorr-taproot-point-time-locked-contract>Schnorr-Taproot: Point Time Locked Contract</h1><p><code>partial_sig = sG = R + H(P | R | m)P</code></p><p><code>adaptor_sig = s’G = T + R + H(P | R | m)P with the T the nonce tweak</code></p><p><code>secret t = adaptor_sig - partial_sig</code></p><p>There is this cool idea of scriptless scripts by Andrew Poelstra who was speaking earlier today. With a scriptless script you are going to tweak the nonce pubkey with a secret. When one of the parties is ready to claim the secret she has to reveal it to unlock the output.</p><h1 id=ptlc-protocol-setup-phase>PTLC protocol: setup phase</h1><p>(See diagram in slides)</p><p>The protocol works like this. You are going to build an aggregated pubkey of 2-of-2. One of the parties is going to submit a modified nonce pubkey. Alice is going to send a partial sig to Bob. Bob is going to send his partial sig… When Bob is ready to claim the output he has to reveal the secret. That is a way to atomically exchange funds against a secret. You can reuse this primitive to build a world like Lightning payment paths. PTLC, point timelocked contracts, should be the replacement for HTLC. There will be three phases. The first phase, setup, you send a curve point to every part of the payment path.</p><h1 id=ptlc-protocol-update-phase>PTLC protocol: update phase</h1><p>(See diagram in slides)</p><p>The second phase is the update phase. You are going to exchange partial sigs between every hop of the payment path.</p><h1 id=ptlc-protocol-settlement-phase>PTLC protocol: settlement phase</h1><p>(See diagram in slides)</p><p>The last phase is the settlement one. Dave is going to reveal the secret that lets Carol learn about her own secret which is going to let Bob learn about his own secret. Bob is going to claim the PTLC from Alice. Alice is going to learn the final secret. This final secret can be reused to solve other issues.</p><h1 id=invoices-proof-of-payment>Invoices: proof-of-payment</h1><p>Right now when you are going to succeed a payment on the network you are going to learn the preimage. The preimage can be used as a proof of payment. But it doesn’t tell you who is the original sender. Every hop of the payment path can claim in front of a judge “I was the guy who made the payment. I have the preimage.” If you are able to also submit the invoice you can’t associate between parts of the payment path.</p><h1 id=schnorr-taproot-invoices-proof-of-payer>Schnorr Taproot Invoices: proof-of-payer</h1><p>Reusing the z value (zG has been signed by the receiver) of the PTLC protocol, you will be able to have this unique secret value. This unique secret value is only going to be learned by the original sender. This could be cool because you could use this to trigger a second stage contract or some kind of consumer protection escrow, something like this.</p><h1 id=onion-packet-simple-payment-or-mpp>Onion-packet: simple payment or MPP</h1><p>MPP has been presented by Joost. Right now MPP is cool to solve liquidity issues but it may be a weakness for privacy because you may be able to do payment paths intersection between the different MPP used if a spying node of part of all MPP payment paths. Ideally you want to use a different value for this payment path.</p><h1 id=schnorr-taproot-onion-packet-discreet-log-amp>Schnorr Taproot onion packet: Discreet Log AMP</h1><p>There is the idea of using the same cryptography trick of Schnorr linearity. Before to set the payment path Alice the sender will offset the curve point received from Dave, the last hop of the payment path, by her own secret. You are going to send shards of the secret through every onion part of the atomic multipayment path. Only when all of them are locked at the last hop, is it going to be possible to combine the shard secrets and claim the payment.</p><h1 id=htlc-stuck-payments>HTLC: stuck payments</h1><p>There is another issue right now which is being discussed on the <a href=https://lists.linuxfoundation.org/pipermail/lightning-dev/2019-June/002029.html>mailing list</a>. You send a payment, one of the hops on the payment path is going to be offline or not available. To cancel the payment and wait to send another one you have to first wait until the HTLC timelock expires to get the funds back to the original sender. Ideally you want a way so that the sender can cancel the payment without waiting.</p><h1 id=schnorr-taproot-htlc-cancellable-payments>Schnorr Taproot HTLC: cancellable payments</h1><p>You can do this again thanks to the PTLC construction. The last secret is only going to be revealed by Alice when Dave, the receiver of the funds, is going to acknowledge that he received every payment packet. If you do this this is really cool because it may allow you to build higher level protocols, some kind of forward error correction. The idea is you are going to send more packets than needed to fulfill the payment. Thanks to this it is going to better UX because if one of the packets fails you still have more packets to pay the payee.</p><h1 id=htlc-simple-hash-time-locked-contract>HTLC: simple hash-time-locked-contract</h1><p>The last thing that we can also build thanks to Schnorr… Right now HTLCs are pretty cool but they are pretty simple. There is only one timelock, there is only one hash. Maybe people are interested to have different hashes. One of the hashes is submitted by an escrow. It may be an arbiter in any contract. I am Alice, I am interested to get a shipment of some goods. I am funding a payment today but I never received my goods. You may be able to insert an escrow into your HTLC. By doing this it would mean every hop part of the payment path has to support the advanced HTLC. Worse it is going to learn the semantics of the contract.</p><h1 id=schnorr-taproot-end-to-end-payment-point-contracts>Schnorr Taproot: end-to-end payment point contracts</h1><p>What you can do is instead of this is have payment point constructions. The idea is you still use scriptless scripts but you add other primitives thanks to key aggregation or ECDH. You can also do DLCs which is just a curve point. We may be able to build a wider class of HTLC packets or conditional payment packets. I foresee in a few years people doing futures or options on top of Lightning. This class of payments is going to be confidential. Only the endpoints are going to learn about this.</p><h1 id=protocol-side-no-silver-bullet-a-lot-of-tricks>Protocol-side, no silver bullet, a lot of tricks</h1><p>Schnorr and Taproot, it is not a silver bullet. There are a lot of other leaks like when you are doing channel announcements on Lightning right now you are doxing yourself by linking a Lightning pubkey identity and onchain UTXO. In a few years people are going to wake up and say “This Lightning pubkey was linked to a domain name.” Then you will be able to link between a domain name and an onchain UTXO which is really bad. Even if we do PTLC for the payment path we still have issues with the CLTV delta which is the same on every hop. Also the amount stays the same minus the Lightning fees for every hop. Ideally we may want to implement further tricks like random CLTV delta routing algorithms or pad the payment path to always use 10 hops or 20 hops even if it is costlier. That may be better for privacy. Right now people are working on dual funded channels for Lightning. We may do Coinjoin for every funding transaction which would be really cool. Schnorr and Taproot are going to take more than one year to get integrated into Lightning. This will be only the start for building really consistent privacy for Lightning.</p><h1 id=application-side-building-private-first-apps>Application-side, building private first apps</h1><p>Privacy is going to be the default for Lightning, I hope so. If you are going to build applications on top of this you should have this holistic approach and think “I have this Lightning protocol which provides me a lot of privacy. I will try to not break privacy for my application users.” You should think about integrating with Tor, identityless login or identityless tokens, that kind of stuff. I think that is a challenge for application developers building on top of Lightning but I think it is worth it. I am excited, Schnorr and Taproot have been proposed as BIPs and should be soft forked into the protocol if the community supports it. If you are interested to contribute to Lightning you are really welcome.</p><h1 id=thanks-to-chaincode>Thanks to Chaincode</h1><p>Thanks to Chaincode for supporting this work. Thanks to Advancing Bitcoin.</p><h1 id=qa>Q&A</h1><p>Q - How do you see Taproot being implemented in Lightning? Is it still Lightning?</p><p>A - There are multiple ways. First you can integrate Taproot for the funding output. Then you can use Taproot for the HTLC output part of the commitment transaction. You can also use Taproot for the output of the second stage HTLC transaction. There are at least multiple outputs that can be concerned with Lightning. I think the first is to fix the funding output because if you do this we will benefit from the Taproot assumption. Using Taproot for commitment transactions you are still going to leak that you are using Lightning. Maybe we could use the pool construction I was talking about but that is harder stuff. I would chase this one first.</p><p>Q - You said Lightning has privacy guarantees on its protocol but developers should make sure they don’t ruin the privacy guarantees on top of the base Lightning protocol. Do you see a tendency that applications are taking shortcuts on Lightning and ruining the privacy?</p><p>A - Yes. Right now there is this idea of <a href=https://diyhpl.us/wiki/transcripts/lightning-conference/2019/2019-10-20-bastien-teinturier-trampoline-routing/>trampoline routing</a> which is maybe great for user experience but on the privacy side it is broken. What gives us a lot of privacy in Lightning is source routing. Going to trampoline routing means the person who does the trampoline routing for you is going to learn who you are if you are using one hop and worse is going to know who you are sending funds to. There is trampoline routing, if you are not using privacy preserving Lightning clients… Nobody has done a real privacy study on Lightning clients. Neutrino, bloom filters, no one has done real research. They are not great, there are privacy leaks if you are using them. There are Lightning privacy issues and there are base layer privacy issues. If you are building an application you should have all of them in mind. It is really hard. Using the node pubkey I don’t think is great. I would like <a href=https://lists.linuxfoundation.org/pipermail/lightning-dev/2018-November/001498.html>rendez-vous routing</a> to be done on Lightning to avoid announcing my pubkey, having my invoice tied to my pubkey and my pubkey being part of Lightning. And channel announcement of course. I hope at some point we have some kind of proof of ownership so I can prove I own this channel without revealing which UTXO I own.</p><h4></h4><ul><li><a href=/bitcointranscripts.github.io/es/advancing-bitcoin/2020/2020-02-06-antoine-riard-taproot-lightning/>es: Taproot Lightning</a></li></ul><div class=row></div></div></div></div><script src=https://www.kouloumos.com/bitcointranscripts.github.io/lib/jquery.min.js></script>
<script src=https://www.kouloumos.com/bitcointranscripts.github.io/lib/popper.min.js></script>
<script src=https://www.kouloumos.com/bitcointranscripts.github.io/js/bootstrap.min.js></script>
<script type=text/javascript src=/bitcointranscripts.github.io/plugins/lunr.min.js></script>
<script type=text/javascript src=/bitcointranscripts.github.io/plugins/auto-complete.js></script>
<link href=/bitcointranscripts.github.io/plugins/auto-complete.css rel=stylesheet><script type=text/javascript>var baseurl="https://www.kouloumos.com/bitcointranscripts.github.io/"</script><script type=text/javascript src=/bitcointranscripts.github.io/plugins/search.js></script>
<script type=text/javascript src=https://www.kouloumos.com/bitcointranscripts.github.io/js/custom.js></script>
<script type=text/javascript src=/bitcointranscripts.github.io/plugins/clipboard.js></script>
<script>new ClipboardJS(".btn")</script></body></html>