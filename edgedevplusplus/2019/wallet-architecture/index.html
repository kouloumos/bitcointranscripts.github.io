<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical href=https://www.kouloumos.com/bitcointranscripts.github.io/edgedevplusplus/2019/wallet-architecture/><title>Wallet Architecture in Bitcoin Core | ₿itcoin Transcripts
</title><link href=https://www.kouloumos.com/bitcointranscripts.github.io/css/fontawesome.min.css rel=stylesheet><link rel=stylesheet href=https://www.kouloumos.com/bitcointranscripts.github.io/css/ace.min.css><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.kouloumos.com/bitcointranscripts.github.io/images/btctranscripts.png"><meta name=twitter:title content="John Newbery - Wallet Architecture in Bitcoin Core"><meta name=twitter:description content="https://twitter.com/kanzure/status/1171018684816605185
Introduction Thanks Bryan for talking about HD wallets. I am going to be talking about wallet architecture in Bitcoin Core. Alright. Who am I? I work on Bitcoin Core. I&rsquo;ve been writing code on Bitcoin Core for about 3 years. Lately I have been working on the wallet. I work for Chaincode Labs which is why I get to work on Bitcoin Core. We are a small research lab in New York."><script async src=https://visits.bitcoindevs.xyz/script.js data-website-id=5216355b-46b3-4366-8438-c056f993bd36></script></head><body><nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow sticky-top" id=navbarMain><div class=container><div><a class=navbar-brand href=/bitcointranscripts.github.io>₿itcoin Transcripts</a></div><div class="collapse navbar-collapse" id=navbarMainCollapse><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/bitcointranscripts.github.io/es>es</a></li><li class=nav-item><a class=nav-link href=/bitcointranscripts.github.io/pt>pt</a></li><li class=nav-item><a class=nav-link href=/bitcointranscripts.github.io/zh>zh</a></li><li class=nav-item><a class=nav-link href=https://github.com/bitcointranscripts/bitcointranscripts target=_blank><i class='fab fa-github'></i></a></li></ul></div></div></nav><div class="alert alert-warning fade show sticky-banner" role=alert><strong><a href=https://review.btctranscripts.com target=_blank data-umami-event=click-banner>Get paid to review technical Bitcoin transcripts
</a></strong><button type=button class=close data-dismiss=alert aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=container-fluid><div class=row><div class="docs-sidenav order-0 col-12 col-md-3 col-lg-2 col-xl-2 position-sticky border-right"><nav class="navbar navbar-expand-md navbar-light pl-0"><button class="navbar-toggler navbar-toggler-right collapsed" type=button data-toggle=collapse data-target=#sidenav-left-collapse aria-controls=sidenav-left-collapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse align-items-start flex-column" id=sidenav-left-collapse><form class="form-inline my-2 my-lg-0 searchbox"><input class="form-control mr-sm-2 w-100" data-search-input id=search-by type=text placeholder='Search (press "/")'></form><ul class="navbar-nav flex-column pt-3"><li data-nav-id=/bitcointranscripts.github.io/adopting-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/adopting-bitcoin/><h6>Adopting Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/adopting-bitcoin/2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/adopting-bitcoin/2021/><h6>Adopting Bitcoin 2021</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/advancing-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/advancing-bitcoin/><h6>Advancing Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/advancing-bitcoin/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/advancing-bitcoin/2019/><h6>Advancing Bitcoin 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/advancing-bitcoin/2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/advancing-bitcoin/2020/><h6>Advancing Bitcoin 2020</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/advancing-bitcoin/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/advancing-bitcoin/2022/><h6>Advancing Bitcoin 2022</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/advancing-bitcoin/2023/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/advancing-bitcoin/2023/><h6>Advancing Bitcoin 2023</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/andreas-antonopoulos/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/andreas-antonopoulos/><h6>Andreas Antonopoulos</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/austin-bitcoin-developers/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/austin-bitcoin-developers/><h6>Austin Bitcoin Developers</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/baltic-honeybadger/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/baltic-honeybadger/><h6>Baltic Honeybadger</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/baltic-honeybadger/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/baltic-honeybadger/2018/><h6>Baltic Honeybadger 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/baltic-honeybadger/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/baltic-honeybadger/2019/><h6>Baltic Honeybadger 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/bit-block-boom/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bit-block-boom/><h6>Bit Block Boom</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/bit-block-boom/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bit-block-boom/2019/><h6>Bit Block Boom 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-core-dev-tech/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-core-dev-tech/><h6>Bitcoin Core Dev Tech</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2015-02/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2015-02/><h6>Bitcoin Core Dev Tech 2015</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2017-09/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2017-09/><h6>Bitcoin Core Dev Tech 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2018-03/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2018-03/><h6>Bitcoin Core Dev Tech 2018 (Mar)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2018-10/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2018-10/><h6>Bitcoin Core Dev Tech 2018 (Oct)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2019-06/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2019-06/><h6>Bitcoin Core Dev Tech 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2022-10/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2022-10/><h6>Bitcoin Core Dev Tech 2022</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2023-04/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2023-04/><h6>Bitcoin Core Dev Tech 2023 (Apr)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2023-09/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-core-dev-tech/2023-09/><h6>Bitcoin Core Dev Tech 2023 (Sept)</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-design/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-design/><h6>Bitcoin Design</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/edgedevplusplus/ class="nav-item my-1 parent haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/edgedevplusplus/><h6>Bitcoin Edge Dev++</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/edgedevplusplus/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/edgedevplusplus/2017/><h6>Bitcoin Edge Dev++ 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/edgedevplusplus/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/edgedevplusplus/2018/><h6>Bitcoin Edge Dev++ 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/edgedevplusplus/2019/ class="nav-item my-1 parent haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/edgedevplusplus/2019/><h6>Bitcoin Edge Dev++ 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-magazine/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-magazine/><h6>Bitcoin Magazine</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/bitcoin-magazine/bitcoin-explained/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-magazine/bitcoin-explained/><h6>Bitcoin Explained</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-review-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-review-podcast/><h6>Bitcoin Review Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoinplusplus/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoinplusplus/><h6>Bitcoin++</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/bitcoinplusplus/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoinplusplus/2022/><h6>Bitcoin++ 2022</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoinplusplus/onchain-privacy/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoinplusplus/onchain-privacy/><h6>Onchain Privacy</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoinology/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoinology/><h6>Bitcoinology</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoinops/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoinops/><h6>Bitcoinops</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcointranscripts/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcointranscripts/><h6>Bitcointranscripts</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/blockchain-protocol-analysis-security-engineering/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/blockchain-protocol-analysis-security-engineering/><h6>Blockchain Protocol Analysis Security Eng</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/blockchain-protocol-analysis-security-engineering/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/blockchain-protocol-analysis-security-engineering/2017/><h6>Blockchain Protocol Analysis Security Engineering 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/blockchain-protocol-analysis-security-engineering/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/blockchain-protocol-analysis-security-engineering/2018/><h6>Blockchain Protocol Analysis Security Engineering 2018</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/blockstream-webinars/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/blockstream-webinars/><h6>Blockstream Webinars</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/boltathon/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/boltathon/><h6>Boltathon</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/breaking-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/breaking-bitcoin/><h6>Breaking Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/breaking-bitcoin/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/breaking-bitcoin/2017/><h6>Breaking Bitcoin 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/breaking-bitcoin/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/breaking-bitcoin/2019/><h6>Breaking Bitcoin 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/building-on-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/building-on-bitcoin/><h6>Building On Bitcoin</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/building-on-bitcoin/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/building-on-bitcoin/2018/><h6>Building On Bitcoin 2018</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/c-lightning/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/c-lightning/><h6>c-lightning</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/chaincode-labs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/chaincode-labs/><h6>Chaincode Labs</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/chaincode-labs/chaincode-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/chaincode-labs/chaincode-podcast/><h6>Chaincode Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/chaincode-labs/chaincode-residency/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/chaincode-labs/chaincode-residency/><h6>Chaincode Residency</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/chicago-bitdevs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/chicago-bitdevs/><h6>Chicago Bitdevs</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/coindesk-consensus-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/coindesk-consensus-2016/><h6>Coindesk Consensus</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/coordination-of-decentralized-finance-workshop/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/coordination-of-decentralized-finance-workshop/><h6>Coordination of Decentralized Finance</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/coordination-of-decentralized-finance-workshop/2020-stanford/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/coordination-of-decentralized-finance-workshop/2020-stanford/><h6>2020 Stanford</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/cppcon/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/cppcon/><h6>CPPcon</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/cppcon/2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/cppcon/2017/><h6>CPPcon 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/cppcon/2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/cppcon/2020/><h6>CPPcon 2020</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/cryptoeconomic-systems/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/cryptoeconomic-systems/><h6>Cryptoeconomic Systems</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/cryptoeconomic-systems/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/cryptoeconomic-systems/2019/><h6>Cryptoeconomic Systems 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/dallas-bitcoin-symposium/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/dallas-bitcoin-symposium/><h6>Dallas Bitcoin Symposium</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/decentralized-financial-architecture-workshop/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/decentralized-financial-architecture-workshop/><h6>Decentralized Financial Architecture Workshop</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/bitcoin-developers-miners-meeting-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/bitcoin-developers-miners-meeting-2016/><h6>Developers-Miners Meeting</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/greg-maxwell/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/greg-maxwell/><h6>Greg Maxwell</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/grincon/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/grincon/><h6>Grincon</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/grincon/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/grincon/2019/><h6>Grincon 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/honey-badger-diaries/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/honey-badger-diaries/><h6>Honey Badger Diaries</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/iacr/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/iacr/><h6>IACR Crypto</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/la-bitdevs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/la-bitdevs/><h6>LA Bitdevs</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/layer2-summit/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/layer2-summit/><h6>Layer2 Summit</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/layer2-summit/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/layer2-summit/2018/><h6>Layer2 Summit 2018</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/lets-talk-bitcoin-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/lets-talk-bitcoin-podcast/><h6>Lets Talk Bitcoin Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/lightning-conference/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/lightning-conference/><h6>Lightning Conference</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/lightning-conference/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/lightning-conference/2019/><h6>Lightning Conference 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/lightning-hack-day/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/lightning-hack-day/><h6>Lightning Hack Day</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/lightning-specification/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/lightning-specification/><h6>Lightning Specification</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/london-bitcoin-devs/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/london-bitcoin-devs/><h6>London Bitcoin Devs</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/magicalcryptoconference/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/magicalcryptoconference/><h6>Magicalcryptoconference</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/magicalcryptoconference/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/magicalcryptoconference/2019/><h6>Magicalcryptoconference 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/misc/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/misc/><h6>Misc</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/><h6>MIT Bitcoin Expo</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2015/><h6>Mit Bitcoin Expo 2015</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2016/><h6>Mit Bitcoin Expo 2016</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2017/><h6>Mit Bitcoin Expo 2017</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2018/><h6>Mit Bitcoin Expo 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2019/><h6>Mit Bitcoin Expo 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2020/><h6>Mit Bitcoin Expo 2020</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2021/><h6>Mit Bitcoin Expo 2021</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/mit-bitcoin-expo/mit-bitcoin-expo-2022/><h6>MIT Bitcoin Expo 2022</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/munich-meetup/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/munich-meetup/><h6>Munich Meetup</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/noded-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/noded-podcast/><h6>Noded Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/realworldcrypto/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/realworldcrypto/><h6>Realworldcrypto</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/realworldcrypto/2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/realworldcrypto/2018/><h6>Realworldcrypto 2018</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/realworldcrypto/2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/realworldcrypto/2021/><h6>Realworldcrypto 2021</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/rebooting-web-of-trust/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/rebooting-web-of-trust/><h6>Rebooting Web Of Trust</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/rebooting-web-of-trust/2019-prague/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/rebooting-web-of-trust/2019-prague/><h6>2019 Prague</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/ruben-somsen/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/ruben-somsen/><h6>Ruben Somsen</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/satoshi-roundtable/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/satoshi-roundtable/><h6>Satoshi Roundtable</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/satoshi-roundtable/sr-004/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/satoshi-roundtable/sr-004/><h6>Sr 004</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/><h6>Scaling Bitcoin Conference</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/hong-kong-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/hong-kong-2015/><h6>Hong Kong (2015)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/milan-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/milan-2016/><h6>Milan (2016)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/montreal-2015/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/montreal-2015/><h6>Montreal (2015)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/stanford-2017/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/stanford-2017/><h6>Stanford (2017)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/tel-aviv-2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/tel-aviv-2019/><h6>Tel Aviv (2019)</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/scalingbitcoin/tokyo-2018/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/scalingbitcoin/tokyo-2018/><h6>Tokyo (2018)</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/sf-bitcoin-meetup/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/sf-bitcoin-meetup/><h6>SF Bitcoin Meetup</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/simons-institute/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/simons-institute/><h6>Simons Institute</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/stanford-blockchain-conference/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/stanford-blockchain-conference/><h6>Stanford Blockchain</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/stanford-blockchain-conference/2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/stanford-blockchain-conference/2019/><h6>Stanford Blockchain Conference 2019</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/stanford-blockchain-conference/2020/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/stanford-blockchain-conference/2020/><h6>Stanford Blockchain Conference 2020</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/stephan-livera-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/stephan-livera-podcast/><h6>Stephan Livera Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/sydney-bitcoin-meetup/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/sydney-bitcoin-meetup/><h6>Sydney Bitcoin Meetup</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/tabconf/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/tabconf/><h6>TABConf</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/tabconf/2021/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/tabconf/2021/><h6>TABConf 2021</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/tabconf/2022/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/tabconf/2022/><h6>TABConf 2022</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/texas-bitcoin-conference-2014/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/texas-bitcoin-conference-2014/><h6>Texas Bitcoin Conference</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/tftc-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/tftc-podcast/><h6>TFTC Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/verifiable-delay-functions/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/verifiable-delay-functions/><h6>Verifiable Delay Functions</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/bitcointranscripts.github.io/verifiable-delay-functions/vdf-day-2019/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/verifiable-delay-functions/vdf-day-2019/><h6>Vdf Day 2019</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></li><li data-nav-id=/bitcointranscripts.github.io/vr-bitcoin/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/vr-bitcoin/><h6>VR Bitcoin</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/w3-blockchain-workshop-2016/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/w3-blockchain-workshop-2016/><h6>W3 Blockchain Workshop</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/wasabi-research-club/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/wasabi-research-club/><h6>Wasabi Research Club</h6></a><ul class="list-unstyled ml-2"></ul></li><li data-nav-id=/bitcointranscripts.github.io/what-bitcoin-did-podcast/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=/bitcointranscripts.github.io/what-bitcoin-did-podcast/><h6>What Bitcoin Did Podcast</h6></a><ul class="list-unstyled ml-2"></ul></li></ul></div></nav></div><div class="docs-toc large order-lg-2 order-md-0 order-xs-1 col-12 col-lg-2 col-xl-2 position-sticky"><div class=docs-toc><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#why-do-we-care-about-wallet-development>Why do we care about wallet development?</a></li><li><a href=#what-are-a-wallets-functions>What are a wallet&rsquo;s functions?</a></li><li><a href=#key-management>Key management</a></li><li><a href=#transaction-construction>Transaction construction</a></li><li><a href=#wallet-persistence>Wallet persistence</a></li><li><a href=#agenda>Agenda</a></li><li><a href=#glossary>Glossary</a></li><li><a href=#code-layout>Code layout</a></li><li><a href=#key-management-1>Key management</a></li><li><a href=#generating-keys>Generating keys</a></li><li><a href=#hd-wallets>HD wallets</a></li><li><a href=#constructing-transactions>Constructing transactions</a></li><li><a href=#persistence>Persistence</a></li><li><a href=#future-wallet-directions>Future wallet directions</a></li><li><a href=#questions>Questions</a></li><li><a href=#see-also>See also</a></li></ul></nav></div></div><div class="main col-12 order-1 col-md-9 col-lg-10 col-xl-8 py-3"><a href=/>Home</a>
&lt; <a href=/bitcointranscripts.github.io/bitcoinplusplus/>Bitcoin++
</a>&lt; <a href=/bitcointranscripts.github.io/lightning-specification/>Lightning Specification
</a>&lt; <a href=/bitcointranscripts.github.io/bitcoin-core-dev-tech/>Bitcoin Core Dev Tech
</a>&lt; <a href=/bitcointranscripts.github.io/bitcoin-review-podcast/>Bitcoin Review Podcast
</a>&lt; <a href=/bitcointranscripts.github.io/stephan-livera-podcast/>Stephan Livera Podcast
</a>&lt; <a href=/bitcointranscripts.github.io/advancing-bitcoin/>Advancing Bitcoin
</a>&lt; <a href=/bitcointranscripts.github.io/bitcoin-magazine/>Bitcoin Magazine
</a>&lt; <a href=/bitcointranscripts.github.io/bitcointranscripts/>Bitcointranscripts
</a>&lt; <a href=/bitcointranscripts.github.io/tabconf/>TABConf
</a>&lt; <a href=/bitcointranscripts.github.io/london-bitcoin-devs/>London Bitcoin Devs
</a>&lt; <a href=/bitcointranscripts.github.io/misc/>Misc
</a>&lt; <a href=/bitcointranscripts.github.io/chaincode-labs/>Chaincode Labs
</a>&lt; <a href=/bitcointranscripts.github.io/mit-bitcoin-expo/>MIT Bitcoin Expo
</a>&lt; <a href=/bitcointranscripts.github.io/greg-maxwell/>Greg Maxwell
</a>&lt; <a href=/bitcointranscripts.github.io/sydney-bitcoin-meetup/>Sydney Bitcoin Meetup
</a>&lt; <a href=/bitcointranscripts.github.io/bitcoinology/>Bitcoinology
</a>&lt; <a href=/bitcointranscripts.github.io/c-lightning/>c-lightning
</a>&lt; <a href=/bitcointranscripts.github.io/adopting-bitcoin/>Adopting Bitcoin
</a>&lt; <a href=/bitcointranscripts.github.io/iacr/>IACR Crypto
</a>&lt; <a href=/bitcointranscripts.github.io/wasabi-research-club/>Wasabi Research Club
</a>&lt; <a href=/bitcointranscripts.github.io/lightning-hack-day/>Lightning Hack Day
</a>&lt; <a href=/bitcointranscripts.github.io/munich-meetup/>Munich Meetup
</a>&lt; <a href=/bitcointranscripts.github.io/tftc-podcast/>TFTC Podcast
</a>&lt; <a href=/bitcointranscripts.github.io/realworldcrypto/>Realworldcrypto
</a>&lt; <a href=/bitcointranscripts.github.io/sf-bitcoin-meetup/>SF Bitcoin Meetup
</a>&lt; <a href=/bitcointranscripts.github.io/cppcon/>CPPcon
</a>&lt; <a href=/bitcointranscripts.github.io/bitcoin-design/>Bitcoin Design
</a>&lt; <a href=/bitcointranscripts.github.io/chicago-bitdevs/>Chicago Bitdevs
</a>&lt; <a href=/bitcointranscripts.github.io/vr-bitcoin/>VR Bitcoin
</a>&lt; <a href=/bitcointranscripts.github.io/la-bitdevs/>LA Bitdevs
</a>&lt; <a href=/bitcointranscripts.github.io/ruben-somsen/>Ruben Somsen
</a>&lt; <a href=/bitcointranscripts.github.io/honey-badger-diaries/>Honey Badger Diaries
</a>&lt; <a href=/bitcointranscripts.github.io/andreas-antonopoulos/>Andreas Antonopoulos
</a>&lt; <a href=/bitcointranscripts.github.io/blockstream-webinars/>Blockstream Webinars
</a>&lt; <a href=/bitcointranscripts.github.io/austin-bitcoin-developers/>Austin Bitcoin Developers
</a>&lt; <a href=/bitcointranscripts.github.io/coordination-of-decentralized-finance-workshop/>Coordination of Decentralized Finance
</a>&lt; <a href=/bitcointranscripts.github.io/stanford-blockchain-conference/>Stanford Blockchain
</a>&lt; <a href=/bitcointranscripts.github.io/lightning-conference/>Lightning Conference
</a>&lt; <a href=/bitcointranscripts.github.io/cryptoeconomic-systems/>Cryptoeconomic Systems
</a>&lt; <a href=/bitcointranscripts.github.io/bitcoinops/>Bitcoinops
</a>&lt; <a href=/bitcointranscripts.github.io/baltic-honeybadger/>Baltic Honeybadger
</a>&lt; <a href=/bitcointranscripts.github.io/edgedevplusplus/>Bitcoin Edge Dev++
</a>&lt; <a href=/bitcointranscripts.github.io/edgedevplusplus/2019/>Bitcoin Edge Dev++ 2019
</a>&lt; <a href=/bitcointranscripts.github.io/edgedevplusplus/2018/>Bitcoin Edge Dev++ 2018
</a>&lt; <a href=/bitcointranscripts.github.io/edgedevplusplus/2017/>Bitcoin Edge Dev++ 2017
</a>&lt; <a href=/bitcointranscripts.github.io/decentralized-financial-architecture-workshop/>Decentralized Financial Architecture Workshop
</a>&lt; <a href=/bitcointranscripts.github.io/dallas-bitcoin-symposium/>Dallas Bitcoin Symposium
</a>&lt; <a href=/bitcointranscripts.github.io/breaking-bitcoin/>Breaking Bitcoin
</a>&lt; <a href=/bitcointranscripts.github.io/lets-talk-bitcoin-podcast/>Lets Talk Bitcoin Podcast
</a>&lt; <a href=/bitcointranscripts.github.io/what-bitcoin-did-podcast/>What Bitcoin Did Podcast
</a>&lt; <a href=/bitcointranscripts.github.io/magicalcryptoconference/>Magicalcryptoconference
</a>&lt; <a href=/bitcointranscripts.github.io/noded-podcast/>Noded Podcast
</a>&lt; <a href=/bitcointranscripts.github.io/boltathon/>Boltathon
</a>&lt; <a href=/bitcointranscripts.github.io/verifiable-delay-functions/>Verifiable Delay Functions
</a>&lt; <a href=/bitcointranscripts.github.io/building-on-bitcoin/>Building On Bitcoin
</a>&lt; <a href=/bitcointranscripts.github.io/layer2-summit/>Layer2 Summit
</a>&lt; <a href=/bitcointranscripts.github.io/satoshi-roundtable/>Satoshi Roundtable
</a>&lt; <a href=/bitcointranscripts.github.io/blockchain-protocol-analysis-security-engineering/>Blockchain Protocol Analysis Security Eng
</a>&lt; <a href=/bitcointranscripts.github.io/scalingbitcoin/>Scaling Bitcoin Conference
</a>&lt; <a href=/bitcointranscripts.github.io/bitcoin-developers-miners-meeting-2016/>Developers-Miners Meeting
</a>&lt; <a href=/bitcointranscripts.github.io/w3-blockchain-workshop-2016/>W3 Blockchain Workshop
</a>&lt; <a href=/bitcointranscripts.github.io/simons-institute/>Simons Institute
</a>&lt; <a href=/bitcointranscripts.github.io/bit-block-boom/>Bit Block Boom
</a>&lt; <a href=/bitcointranscripts.github.io/coindesk-consensus-2016/>Coindesk Consensus
</a>&lt; <a href=/bitcointranscripts.github.io/grincon/>Grincon
</a>&lt; <a href=/bitcointranscripts.github.io/rebooting-web-of-trust/>Rebooting Web Of Trust
</a>&lt; <a href=/bitcointranscripts.github.io/texas-bitcoin-conference-2014/>Texas Bitcoin Conference
</a>&lt; Wallet Architecture in Bitcoin Core<h1>Wallet Architecture in Bitcoin Core</h1><p>Speakers:
<a href=/bitcointranscripts.github.io/speakers/john-newbery>John Newbery</a></p><p><i>Date: September 9, 2019</i></p><p><i>Transcript By: Bryan Bishop</i></p><p>Tags:
<a href=/bitcointranscripts.github.io/tags/research>Research</a>, <a href=/bitcointranscripts.github.io/tags/wallet>Wallet</a>, <a href=/bitcointranscripts.github.io/tags/bitcoin-core>Bitcoin core</a></p><p>Category:
<a href=/bitcointranscripts.github.io/categories/conference>Conference</a></p><p><a href=https://twitter.com/kanzure/status/1171018684816605185>https://twitter.com/kanzure/status/1171018684816605185</a></p><h1 id=introduction>Introduction</h1><p>Thanks Bryan for talking about HD wallets. I am going to be talking about wallet architecture in Bitcoin Core. Alright. Who am I? I work on Bitcoin Core. I&rsquo;ve been writing code on Bitcoin Core for about 3 years. Lately I have been working on the wallet. I work for Chaincode Labs which is why I get to work on Bitcoin Core. We are a small research lab in New York. There&rsquo;s also the residency program that we run. We just finished our last residency recently.</p><p>I also work on Bitcoin Optech which is a project to help open communications between the open-source community in bitcoin and bitcoin businesses. We have a weekly newsletter. If you&rsquo;re not subscribed to that, then I recommend going to bitcoinops.org and doing that.</p><p><a href=https://www.johnnewbery.com/walletdev/>https://www.johnnewbery.com/walletdev/</a></p><p><a href=https://gist.github.com/jnewbery/93f89b6062d7af932d92204fa04ebe70>https://gist.github.com/jnewbery/93f89b6062d7af932d92204fa04ebe70</a></p><h1 id=why-do-we-care-about-wallet-development>Why do we care about wallet development?</h1><p>Who here cares about bitcoin protocol development? If you haven&rsquo;t put your hand up, you&rsquo;re probably in the wrong room. Who here runs a bitcoin wallet? The bitcoin network consists of transactions and blocks. We&rsquo;re interested, as people, in addresses and ownership of coins. In the bitcoin protocol, there&rsquo;s no such thing as ownership, balances or addresses. All there is, are UTXO state transitions. Wallets are an abstraction on top of this that gives us the concept of addresses, balances and the concept of ownership. So it&rsquo;s how we as people use bitcoin.</p><p>Wallet development informs protocol development. If you think about recent proposals to change bitcoin, like taproot, sighash noinput or sighash anyprevout&ndash; these are all informed by what wallets can do. Taproot&ndash; who here has heard of taproot? Okay, most of you. One of the central design decisions in taproot, the taproot assumption is that, for contracts, if all parties agree to that contract and the conditions are fulfilled, then they can sign a single signature. Well that depends on MuSig. But that&rsquo;s not part of the bitcoin protocol, it depends on the wallet. Same with SIGHASH_NOINPUT. A lot of the discussion around NOINPUT is about how to make protocol changes safe for wallets.</p><p>My reason for thinking that wallets are important is tha tif you want to know about the bitcoin protocol and be a bitcoin protocol developer then you need to be a wallet developer.</p><h1 id=what-are-a-wallets-functions>What are a wallet&rsquo;s functions?</h1><p>People aren&rsquo;t often sure what is meant by the word &ldquo;wallet&rdquo;. What does a wallet do? It first of all manages your keys. With private keys, you can sign transactions. With private keys, you can create public keys that you can use to give out. The wallet needs to be able to manage those keys somehow. The wallet also needs to be able to construct transactions. If I want to create a transaction and broadcast it, my wallet does that for me. Also, a wallet needs persistence. People using bitcoin need state to persist for months or years. You probably want to save your wallet state to disk, and a wallet does that. Wallets tend to have user interfaces and advanced interfaces like coinjoin or lightning or it might interface with a hardware wallet.</p><p>I am going to only talk about key management, transaction construction, and persistence.</p><h1 id=key-management>Key management</h1><p>What do I mean by key management? If I have private keys, I need to be able to identify which transaction outputs on the blockchain belong to me. My wallet might be watching the chain. How do I figure out which transaction outputs I should care about?</p><p>I also need key management to generate new addresses. Also, I need to determine how to sign a transaction when I want to spend a coin.</p><h1 id=transaction-construction>Transaction construction</h1><p>I need to parse addresses and turn them into a scriptpubkey in a transaction output. My wallet does that for me. I also need to do fee estimation and my wallet does that for me. I also need to do coin selection, picking which coins to spend. I need to sign inputs, and then send it out to the network. Well, maybe I want to batch payments, or use replace-by-fee (RBF) or child-pays-for-parent (CPFP).</p><h1 id=wallet-persistence>Wallet persistence</h1><p>Well, I want persistence because if I lose my keys I lose my coins. I want to be able to spend UTXOs/coins. Also, I&rsquo;m interested in storing my transaction history- the whole thing, all the credits and debits. Also, there&rsquo;s metadata I want to store as well, like labels. How far the wallet should scan into the blockchain. The birthdate of a key generation event is useful so that I know not to look for earlier transactions before that date.</p><h1 id=agenda>Agenda</h1><p>I&rsquo;ll go over a quick glossary, and then talk about interfaces of the Bitcoin Core wallet. When I&rsquo;m talking about a software component, I find it&rsquo;s helpful to talk about edges and how it interacts with other things. I can talk about how the code is managed. Then there&rsquo;s key management, transaction construct, persistence, and finally what might happen in the Bitcoin Core wallet in the future.</p><h1 id=glossary>Glossary</h1><p>In Bitcoin Core, CPubKey is a public key. It&rsquo;s a point on the secp256k1 curve. It&rsquo;s what we use to create outputs. So I want someone to send me coins, so I give them an address generated from my public key. Also, this is used to verify signatures.</p><p>There&rsquo;s also a CKey, and that&rsquo;s a private key. In bitcoin, a private key is a scalar. It&rsquo;s used to sign transactions.</p><p>CKeyID is a key identifier. It&rsquo;s RIPEMD160(SHA256(pubkey)). This is a hash digest of the public key. This is used in pay-to-pubkeyhash p2pkh and pay-to-witness-pubkeyhash p2wpkh.</p><p>CTxDestination - a txout script template with a specific destination. There could be no destination, or a TX_PUBKEYHASH destination, or CScriptID for TX_SCRIPTHASH definition (P2SH). And so on. These are templates. When my wallet watches the blockchain, it tries to fit all of the transactions to match one of these templates to see if it recognizes anything.</p><p>There&rsquo;s a GUI, the node which connects out to the bitcoin blockchain, and then there&rsquo;s a wallet. There&rsquo;s interfaces between the wallet and the node, like the ChainImpl. The wallet and the node&ndash; that&rsquo;s called WalletImpl. There&rsquo;s notifications passing between these different components.</p><p>WalletImpl is the node-wallet interface. The wallet holds a ChainImpl interface to call functions on the node for things like submitting things to the mempool or blockchain processing. The node notifies the walle tabout new transactions and blocks through the NotificationHandlerImpl interface. This is an implementation of CValidationInterface. This is how the wallet hears about transactions added to the mempool, or if a block is connected or disconnected, it&rsquo;s all sent out over the CValidationInterface.</p><p>Why all of this separation? It didn&rsquo;t use to be this way. It all used to be in the same file basically. There were direct function calls between the wallet and the node. This is no longer true. In the past year, it&rsquo;s been separated out. A well-defined interface is easier for us to reason about. There are now no functional calls between the node and the wallet. By doing it with separate interfaces, the wallet and the node can be tested in isolation from each other. Future work might separate the wallet into a different process so that it has its own memory. If your node gets compromised, then you&rsquo;re not necessarily leaking the memory of the wallet. There&rsquo;s also the possibility of different wallet implementations getting plugged into your node implementation in the future.</p><p>Here&rsquo;s src/wallet/ in the Bitcoin Core code base.</p><h1 id=code-layout>Code layout</h1><p>coinselection.cpp|h is the coin selection algorithm, branch-and-bound.</p><p>crypter.cpp|h - for encrypting the wallet&rsquo;s private keys</p><p>walletdb.cpp|h - interface to wallet&rsquo;s database for persistent storage</p><p>init.cpp - initializing the wallet module</p><p>load.cpp|h - loading/starting/stopping individual wallets</p><p>rpc*.cpp|h - wallet&rsquo;s RPC interface</p><p>wallettool.cpp|h - a standalone wallet tool binary that you can run offline</p><p>wallet.cpp|h - EVERYTHING ELSE</p><p>It used to be that wallet.cpp had evertyhing but we&rsquo;ve split it up over the years to make it more modular. But there&rsquo;s still a lot still in that wallet.cpp file.</p><p>Also, there&rsquo;s a subdirectory for tests.</p><p>If I do a line count on all of the files, the big files are wallet.cpp with 4534 lines, and a lot of the RPC files have a lot of user documentation and boiler plate code but there&rsquo;s still a lot of code in there. All the other files are quite small.</p><p>The RPC server is running in the same process as the node. There&rsquo;s a PR to separate it into a different process. At least some people would like to see that.</p><h1 id=key-management-1>Key management</h1><p>I talked about key management, transaction construction, and persistence. Let&rsquo;s get into those for a bit, and then we can have a discussion.</p><p>One of the things that wallets need to do is identify which transaction outputs the wallet cares about. CValidationInterface notifies the wallet of new transactions and blocks. The wallet needs to decide which transactions are of interest to the wallet. This same interface does zeromq interface, net processing, and other activities. This gets fired off, we go into the wallet, and the wallet uses SyncTransaction and AddToWalletIfInvolvingMe().</p><p>IsMine() is where the magic happens. IsMine() is where I decide whether the transaction output is mine. It does that by matching the output template against our private key and whether the private key can be matched with the output template. There&rsquo;s some problems with this. Pattern matching is very complex, and it&rsquo;s not very efficient. It&rsquo;s trying to match different patterns on every single transaction output. It&rsquo;s not selective&ndash; if I only want to receive coins to a P2WPKH output, I would also pay to &mdash; we can&rsquo;t select whether it&rsquo;s one or the other at the moment. The solution to this is to use wallet descriptors or output descriptors. It&rsquo;s currently a pull request in Bitcoin Core to change the IsMine logic to match on the key output script type instead of the pattern matching.</p><h1 id=generating-keys>Generating keys</h1><p>Originally, Bitcoin Core just generated a bag of keys. Fine. Is there a problem with that? Yeah, backup is a problem. Imagine that I want someone to send me bitcoin. I generate a new private key, create an address, give it to them, they send coins, and my node crashes before I make a backup prior. If I don&rsquo;t have a backup of that new private key, then those coins are gone forever.</p><p>The solution to this is keypool which was added by Satoshi in 2010. This caches ahead. It creates 100 cached private keys and then you back that up. When a new key is needed, you draw from the keypool and then top-up the keypool. This needs to be backed up as well, if you go beyond 100 cached private keys used since the last time you backed up.</p><p>Yes, the wallet checks all outputs and matches those. You could ask the sender to give you the bitcoin address, which is actually how the early version of Bitcoin Core worked with pay over IP address.</p><p>Q: What about connecting to hardware wallet devices? Which part communicates with the hardware wallets?</p><p>A: So, there is a separate project called HWI (hardware wallet interface). That&rsquo;s not part of Bitcoin Core itself. It&rsquo;s contained under the bitcoincoreorg but it&rsquo;s a separate project. It&rsquo;s a python executable that communicates using the RPC interface with the wallet.</p><p>Q: Does it swap out the wallet portion? Is there a separate wrapper?</p><p>A: It&rsquo;s a small separate program here that talks both to a hardware wallet and also the Bitcoin Core wallet here. The terminology is confusing here. I&rsquo;d call this a wallet, and the Ledger or Trezor is a key signing device. The hardware wallet doesn&rsquo;t implement this software wallet really. The public keys are stored in the software wallet as watchonly and the private keys are in the hardware device.</p><h1 id=hd-wallets>HD wallets</h1><p>You now know exactly what HD wallets are and how it worked. It was only in 2016 that a minimal implementation of HD wallets was added to Bitcoin Core so pretty late compared to bip32. The way it works is that a new HD seed is set on the first time the wallet is run or after upgrading from a non-HD wallet. The good thing about HD wallets is that the backup problem no longer exists. If you restore an old backup, you don&rsquo;t lose the future keys because you fcan generate them deterministically from the seed. However, you might not know how far to look ahead and that&rsquo;s called the lookahead problem or gap limit. You&rsquo;re generating the public keys in this HD chain, but you can re-generate them later from an old backup.</p><p>For HD wallets, new keys are derived using the bip32 HMAC derivation scheme. For non-HD wallets, we use strong randomness to generate new keys or top up the keypool. In both cases, we test the new key by signing and verifying a message because the last thing you want is some crazy cosmic ray to cause a bit flip error which might happen. And we also save the key to the database before using it, and flushing it to the disk before using it.</p><p>Q: Is this standard practice and&mldr;</p><p>A: It should be. I don&rsquo;t know, I haven&rsquo;t looked at the source code of other wallet implementations.</p><p>Q: Can I import a bip32 key to just have a watchonly wallet?</p><p>A: Yes. That&rsquo;s also an example of what HWI is doing. It imports the keys as watchonly keys in the Bitcoin Core wallet and keeps the signing keys somewhere else.</p><p>Q: There&rsquo;s just one part, one time fresh entropy injection.</p><p>A: Correct, that&rsquo;s the seed.</p><p>Q: So if in the past, if I use a bad random number generator, then it&rsquo;s game over. But the 100 key pool with freshly generated entropy, it could have been compromised in the past&mdash; so how do I compare these two?</p><p>A: Potentially. But if your random entropy generation is compromised at some point in the past, it might still be compromised now. I compare your argument to saying, well, I should have a separate hardware wallet for every single one of my UTXOs. Maybe. But that seems inefficient and very difficult to manage, and you&rsquo;ll probably lose some of them trying to manage all of those different things.</p><p>Q: &mldr;</p><p>A: Yes. It&rsquo;s a single seed where everything is derived from.</p><p>I am going to rush a bit.</p><h1 id=constructing-transactions>Constructing transactions</h1><p>When I want to construct a transaction, I take the public key and convert it to a scriptpublickey. As a user, we do that through the RPC or GUI. The RPC commands are sendtoaddress, sendmany, createrawtransaction, decoderawtransaction, fundrawtransaction, and signrawtransaction, and also submitrawtransaction for broadcasting.</p><p>So how do I do that? I put an address into my wallet, the wallet decodes it into a CDestination. Other parameters can be added for adding finer controls. I could signal that this transaction as bip125 replace-by-fee, or what fees I want to attach and so on. The wallet creates the transaction with CreateTransaction.</p><p>When creating the transaction, we need to estimate the fee. In Bitcoin Core, we&rsquo;re watching transactions come into the mempool and see how long it takes them to get into a block. So from that we can infer what fee rate we need to reach a certain amount of time to get a confirmation. This is in GetMinimumFeeRate and estimateSmartFee interface.</p><p>Q: What if I want to send just 1 satoshi for the whole transaction? Is that possible?</p><p>A: A fee of 1 satoshi for the whole transaction, is it possible? In the p2p network, no, because there&rsquo;s a minimum fee rate to relay transactions which is 1 satoshi per byte. You can create it, but your peers won&rsquo;t relay it. If you had a friendly miner, you could talk with them and give it to them directly. The fee is implicit, though. It&rsquo;s whatever the sum of the inputs is less the sum of the outputs.</p><p>Q: So the fee rate is a float?</p><p>A: We don&rsquo;t use any floats for amounts of bitcoin. You can think of it as a fraction though; it&rsquo;s the amount of satoshis divided by the number of bytes.</p><p>Q: How do we calculate the balance of the wallets, without the node needing to track all the wallets? Can I explain the algorithm for calculating wallet balance?</p><p>A: I&rsquo;ll do that in a moment. Let&rsquo;s talk later.</p><p>Q: What is the mempool?</p><p>A: We better talk about that later.</p><p>Once we have the fee rate, we do coin selection. This is the CWallet::SelectCoins() function. We prefer coins with more confirmations. The logic for selecting which UTXOs is in coinselection.cpp and it uses branch-and-bound based on a paper by Murch, implemented 2 years ago. If it fails, then it falls back to an old knapsack solver. There&rsquo;s also manual coin selection possible using CCoinControl.</p><p>There are some coin selection issues regarding privacy. If you have multiple outputs to the same address, then someone might infer that you&rsquo;re the same person you were previously. There&rsquo;s some coin selection preferences in the algorithm to not break your privacy.</p><p>Signing is almost the last step in CreateTransaction(). The CWallet is an implementation of the SigningProvider interface. The signing logic for SigningProvider is all in src/script/sign.cpp.</p><h1 id=persistence>Persistence</h1><p>Bitcoin Core wallet uses berkeley db for storage. bdb is a key-value store. db.cpp is for the low-level interaction with bdb. walletdb.cpp is for higher-level database read/write/erase operations. The object serialization is in wallet.h and walletdb.h and there&rsquo;s additional deserialization logic in walletdb.cpp &ndash; it&rsquo;s all a bit scattered, that serialization stuff.</p><p>Q: .. encryption &mldr;</p><p>A: We don&rsquo;t encrypt the entire thing; we only encrypt the private keys.</p><h1 id=future-wallet-directions>Future wallet directions</h1><p>The pattern matching for identifying which transactions are you is inefficient and it will be replaced by script descriptor based wallets. There will also be better hardware wallet integration. There&rsquo;s a tool in the Bitcoin Core github organization that integrates with hardware wallets. Tighter integratoin in the Bitcoin Core wallet itself in the future is probably going to happen. Also, we would like to improve the wallet-node interface so tha tother wallet implementations can connect to the Bitcoin Core full node. We&rsquo;re interested in process separation, re-implementation of the wallet in rust, and different backend storage is interesting to think about.</p><h1 id=questions>Questions</h1><p>Q: When you sign a transaction&mdash; does Bitcoin Core do anything clever to, see how big the&mdash;</p><p>A: Yes, we use a dummy key to check the size of the transaction if it was signed.</p><p>Q: So there&rsquo;s a signature that is done in fundrawtransaction?</p><p>A: Yes, I think that&rsquo;s in fundrawtransactoin. It&rsquo;s a dummy signature.</p><p>Q: &mldr;</p><p>A: When I talk about wallets, in this presentation, I&rsquo;m talking about this Bitcoin Core wallet which manages keys and persists transactions and data. You can outsource signing to a hardware device. But the consumer hardware wallets don&rsquo;t really implement all of the features of this Bitcoin Core software wallet&ndash; they usually only implement signing.</p><p>Q: Fee estimation?</p><p>A: I can point you to a blog post that I wrote. We log transactions as they come into the mempool, and we see how long it takes for them to confirm. We use those datapoints for fee estimation. We need a full node with a mempool in order to be able to do fee estimation.</p><p>Q: Are there any&mldr; dependencies&mldr; supply chain attacks?</p><p>A: We use leveldb for storing the UTXO set. We use Qt for the GUI. How do we protect against supply chain security issues? Well, we try to minimize code changes and minimize dependencies. Guix, gitian.</p><p>Q: &mldr;</p><p>A: It&rsquo;s a lot larger than it was a year ago. We have some good momentum on wallet development. Do other people agree that in order to be a good protocol developer to be a good wallet developer? Sipa is a pretty good protocol developer, and he also implemented miniscript. Ajtowns thinks a lot about wallets a lot. There&rsquo;s quite a few developers working on wallets. It&rsquo;s pretty healthy.</p><p>Q: When the wallet gets its own process, is the benefit of the wallet different now? Would you recommend using the Bitcoin Core wallet in the future at that point?</p><p>A: Yeah. I don&rsquo;t know. I haven&rsquo;t worked on other wallets. This is the one I know best. I&rsquo;m really not in the business of recommending other wallet implementations. I think one potential benefit of moving it into a separate process with an API would be competition and competitive pressures. Other wallet developers would be able to implement other wallets backed by a full node. Running a full node is the best possible solution for your privacy.</p><p>Q: Who is the typical user of the Bitcoin Core wallet? It doesn&rsquo;t seem to be the enterprises.</p><p>A: It&rsquo;s a very good question. Do users actually exist of this thing? I don&rsquo;t know. Does anyone here use a Bitcoin Core wallet? At least 10 people. Alright. It would be really useful to know that and know who&rsquo;s using it. It would also serve purpose as a reference implementation wallet.</p><h1 id=see-also>See also</h1><p><a href=http://diyhpl.us/wiki/transcripts/scalingbitcoin/tokyo-2018/edgedevplusplus/overview-bitcoin-core-architecture/>http://diyhpl.us/wiki/transcripts/scalingbitcoin/tokyo-2018/edgedevplusplus/overview-bitcoin-core-architecture/</a></p><div class=row></div></div></div></div><script src=https://www.kouloumos.com/bitcointranscripts.github.io/lib/jquery.min.js></script><script src=https://www.kouloumos.com/bitcointranscripts.github.io/lib/popper.min.js></script><script src=https://www.kouloumos.com/bitcointranscripts.github.io/js/bootstrap.min.js></script><script type=text/javascript src=/bitcointranscripts.github.io/plugins/lunr.min.js></script><script type=text/javascript src=/bitcointranscripts.github.io/plugins/auto-complete.js></script><link href=/bitcointranscripts.github.io/plugins/auto-complete.css rel=stylesheet><script type=text/javascript>var baseurl="https://www.kouloumos.com/bitcointranscripts.github.io/"</script><script type=text/javascript src=/bitcointranscripts.github.io/plugins/search.js></script><script type=text/javascript src=https://www.kouloumos.com/bitcointranscripts.github.io/js/custom.js></script><script type=text/javascript src=/bitcointranscripts.github.io/plugins/clipboard.js></script><script>new ClipboardJS(".btn")</script></body></html>